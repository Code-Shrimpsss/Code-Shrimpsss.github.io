---
sticky: 1
title: Linux命令
date: 2021-9-30 00:00:00
tag: Linux
description: 
cover: https://s3.bmp.ovh/imgs/2021/12/b0d01eb062a97de0.png
---


# Linux命令 #

------

**Linux命令大全**：https://www.runoob.com/linux/linux-command-manual.html

### 终端快捷键 ###

> Ctrl + Alt + t 打开终端命令行
>
> Ctrl + Shift + t 
>
> Ctrl + Shift + = 放大终端窗口的字体显示
>
> Ctrl + -  缩小终端窗口的字体显示

### 查看目录命令 ###

| 命令  |            说明            |
| :---: | :------------------------: |
|  ls   |      查看当前目录信息      |
| ls -l |       以列表方式显示       |
| ls -h | 以大小单位显示，默认是字节 |
| ls -a |   显示隐藏文件和隐藏目录   |
| tree  |   以树状方式显示目录信息   |
|  pwd  |      查看当前目录路径      |
| clear |        清除终端内容        |
| which | 查看命令位置  which [命令] |

ls -l 命令目录信息详情:

![image.png](https://i.loli.net/2021/10/29/uhqSNLQXC9v5OpY.png)

### 切换目录命令的使用 ###

|  命令   |          说明          |
| :-----: | :--------------------: |
| cd 目录 |     切换到指定目录     |
|  cd ~   | 切换到当前用户的主目录 |
|  cd ..  |    切换到上一级目录    |
|  cd .   |     切换到当前目录     |
|  cd -   |    切换到上一次目录    |

###  创建、删除文件及目录命令的使用(基本使用) ###

|               命令               |         说明         |
| :------------------------------: | :------------------: |
|           touch 文件名           |     创建指定文件     |
|           mkdir 目录名           |   创建目录(文件夹)   |
| rm 文件名     or      rm -r 目录 | 删除指定文件或者目录 |
|           rmdir 目录名           |      删除空目录      |

### rm【删除】 ###

| 命令选项 |                 说明                 |    语法    |
| :------: | :----------------------------------: | :--------: |
|    rm    |          删除文件、删除目录          |  rm 文件   |
|    -i    |              交互式提示              | rm 文件 -i |
|    -r    |         递归删除目录及其内容         | rm 目录 -r |
|    -f    | 强制删除，忽略不存在的文件，无需提示 | rm 文件 -f |
|    -d    |              删除空目录              | rm 目录 -d |

### cp【拷贝】 ###

| 命令选项 |         说明         |             语法             |
| :------: | :------------------: | :--------------------------: |
|    cp    |  拷贝文件、拷贝目录  | cp 要拷贝的文件 拷贝完的文件 |
|    -i    |      交互式提示      |  cp -i oldcopy.txt new.txt   |
|    -r    | 递归拷贝目录及其内容 |  cp -r oldcopy.txt new.txt   |
|    -v    | 显示拷贝后的路径描述 |  cp -v oldcopy.txt new.txt   |
|    -a    |  保留文件的原有权限  |  cp -a oldcopy.txt new.txt   |

### mv【移动，重命名】 ###

| 命令选项 |            说明            |           语法            |
| :------: | :------------------------: | :-----------------------: |
|    mv    | 移动文件、移动目录、重命名 |                           |
|    -i    |         交互式提示         | cp -i oldcopy.txt new.txt |
|    -v    |    显示移动后的路径描述    | cp -v oldcopy.txt new.txt |

### 重定向 ###

##### 输出重定向命令：> #####

Linux允许将命令执行结果重定向到一个文件，本应显示在终端上的内容保存到指定文件中

注意： `>输出重定向会覆盖原来的内容，>>输出重定向则会追加到文件的尾部。`

![image.png](https://i.loli.net/2021/10/29/8to6uQ3UgWHrd9D.png)

### grep【文本搜索】 ###

Linux系统中grep命令是一种强大的文本搜索工具，grep允许对文本文件进行模式查找。如果找到匹配模式， grep打印包含模式的所有行。

可以在字符中启用正则的方式去查找. 如: grep -n 'm$' test.txt

| 选项 |                   含义                   |
| :--: | :--------------------------------------: |
| grep |     grep [-选项] ‘搜索内容串’文件名      |
|  -v  | 显示不包含匹配文本的所有行（相当于求反） |
|  -n  |             显示匹配行及行号             |
|  -i  |                忽略大小写                |

**演习:**

![image.png](https://i.loli.net/2021/10/29/gT69Qu8pGYNrMdo.png)

### find【查找文件】 ###

find命令功能非常强大，通常用来在特定的目录下搜索符合条件的文件，也可以用来搜索特定用户属主的文件。

|            命令             |                  含义                  |
| :-------------------------: | :------------------------------------: |
|    find ./ -name test.sh    |  查找当前目录下所有名为test.sh的文件   |
|    find ./ -name '*.sh'     |   查找当前目录下所有后缀为.sh的文件    |
|   find ./ -name "[A-Z]*"    | 查找当前目录下所有以大写字母开头的文件 |
|     find /tmp -size 2M      |     查找在/tmp 目录下等于2M的文件      |
|     find /tmp -size +2M     |     查找在/tmp 目录下大于2M的文件      |
|     find /tmp -size -2M     |     查找在/tmp 目录下小于2M的文件      |
| find ./ -size +4k -size -5M |   查找当前目录下大于4k，小于5M的文件   |
|      find ./ -perm 777      | 查找当前目录下权限为 777 的文件或目录  |

### chmod【修改文件权限】 ###

| 文件权限 |                             含义                             |
| :------: | :----------------------------------------------------------: |
|    r     | read 表示可读取，对于一个目录，如果没有r权限，那么就意味着不能通过ls查看这个目录的内容。 |
|    w     | write 表示可写入，对于一个目录，如果没有w权限，那么就意味着不能在目录下创建新的文件。 |
|    x     | excute 表示可执行，对于一个目录，如果没有x权限，那么就意味着不能通过cd进入这个目录。 |

chmod 修改文件权限有两种使用格式：字母法与数字法。

#### 字母法：chmod u/g/o/a +/-/= rwx 文件 ####

| [ u/g/o/a ] | 含义                                                      |
| ----------- | --------------------------------------------------------- |
| u           | user 表示该文件的所有者                                   |
| g           | group 表示与该文件的所有者属于同一组( group )者，即用户组 |
| o           | other 表示其他以外的人                                    |
| a           | all 表示这三者皆是                                        |

| [ +-= ] | 含义     |
| ------- | -------- |
| +       | 增加权限 |
| -       | 撤销权限 |
| =       | 设定权限 |

#### 数字法：“rwx” 这些权限也可以用数字来代替 ####

| 字母 | 说明                         |
| ---- | ---------------------------- |
| r    | 读取权限，数字代号为 "4"     |
| w    | 写入权限，数字代号为 "2"     |
| x    | 执行权限，数字代号为 "1"     |
| -    | 不具任何权限，数字代号为 "0" |

如执行：chmod u=rwx,g=rx,o=r filename 就等同于：chmod u=7,g=5,o=4 filename

chmod `751` file：

- 文件所有者：**读、写、执行权限**
- 同组用户：**读、执行的权限**
- 其它用户：**执行的权限**

> 注意：如果想递归所有目录加上相同权限，需要加上参数“ -R ”。 如：chmod 777 test/ -R 递归 test 目录下所有文件加 777 权限

### 打包 ###

###### 打包命令： ######

tar [-cvf] 解压后的文件名 解压后的路径

###### 解包命令： ######

tar [-xvf] 需解包的文件名 

`tar` 选项说明

注意：`f` 选项必须放在最后，其他选项顺序可以随意

|                             含义                             | 选项 |
| :----------------------------------------------------------: | :--: |
|                  生成档案文件，创建打包文件                  |  c   |
|                         解开档案文件                         |  x   |
|               列出归档解档的详细过程，显示进度               |  v   |
| 指定档案文件名称，f 后面一定是 .tar 文件，所以必须放选项最后 |  f   |

### 压缩 / 解压缩 ###

#### gzip ####

tar与gzip命令结合可以使用实现文件打包和压缩

用 `gzip` 压缩 `tar` 打包后的文件，其扩展名一般用 `xxx.tar.gz`

在 `tar` 命令中有一个选项 **-z** 可以调用 `gzip`，从而可以方便的实现压缩和解压缩的功能

###### 压缩文件 ######

tar -zcvf 打包文件.tar.gz 被压缩的文件／路径...

###### 解压缩文件 ######

tar -zxvf 打包文件.tar.gz

###### 解压缩到指定路径
tar -zxvf 打包文件.tar.gz -C 目标路径

| 选项 |                      含义                      |
| :--: | :--------------------------------------------: |
|  -C  | 解压缩到指定目录，注意：要解压缩的目录必须存在 |

#### bzip2 ####

`tar` 与 `bzip2` 命令结合可以使用实现文件 **打包和压缩**（用法和 `gzip` 一样）

在 `tar` 命令中有一个选项 **-j** 可以调用 `bzip2`，从而可以方便的实现压缩和解压缩的功能

###### 压缩文件
tar -jcvf 打包文件.tar.bz2 被压缩的文件／路径...

###### 解压缩文件
tar -jxvf 打包文件.tar.bz2

### zip与unzip【文件压缩】 ###

通过zip压缩文件的目标文件不需要指定扩展名，默认扩展名为zip。

###### 压缩文件： ######

zip [-r] 目标文件(没有扩展名) 源文件

```
zip  pyfile  *.py
```

###### 解压文件： ######

unzip -d 解压后目录文件 压缩文件

```
unzip pyfile.zip -d 指定目录
```



### 用户命令 ###

##### 切换到管理员账号 #####

```
sudo -s
```

![image.png](https://i.loli.net/2021/10/29/tmYIbveaynwxHkO.png)

##### 设置用户密码：passwd #####

![image.png](https://i.loli.net/2021/10/29/Qz7wrItZX2Edyob.png)

##### 退出用户exit   #####

```
exit
```

##### 查看登录用户：who #####

| 选项          | 含义                                 |
| ------------- | ------------------------------------ |
| -q或--count   | 只显示用户的登录账号和登录用户的数量 |
| -u或--heading | 显示列标题                           |

![image.png](https://i.loli.net/2021/10/29/82YP9oSIANpd4lD.png)

### 关机重启：reboot、shutdown、init ###

| 命令              | 含义                                       |
| ----------------- | ------------------------------------------ |
| reboot            | 重新启动操作系统                           |
| shutdown –r now   | 重新启动操作系统，shutdown会给别的用户提示 |
| shutdown -h now   | 立刻关机，其中now相当于时间为0的状态       |
| shutdown -h 20:25 | 系统在今天的20:25 会关机                   |
| shutdown -h +10   | 系统再过十分钟后自动关机                   |

### 虚拟机磁盘满的问题 ###


|            命令             |                  含义                  |
| :-------------------------: | :------------------------------------: |
|    df -lh    |  查看磁盘命令   |
|    sudo apt-get install gparted     |   安装管理虚拟机磁盘容量工具    |

